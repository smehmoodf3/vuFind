/*global SC:false, it:false, _:false, describe:false, require:false, expect:false, define: false, beforeEach:false, jQuery:false, waitsFor:false */
/*jshint forin:true, noarg:true, noempty:true, eqeqeq:true, bitwise:false, strict:true, undef:true, unused:true, curly:true, browser:true, quotmark:single, maxerr:50, laxcomma:true, expr:true*/

// Categories.js
// --------------------
// Testing Categories
define(['ApplicationSkeleton', 'Main'], function ()
{
	'use strict';
	
	// The mocked Categories
	/*jshint quotmark:double*/
	SC.ENVIRONMENT={
		CATEGORIES : {"Bedding":{"itemtype":"sitecategory","storedetaileddescription":"","storedisplaythumbnailhtml":"","itemid":"Bedding","categorythumbnailhtml":"","canonicalurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.15/.f","pagetitle2":"Bedding Title","storedetaileddescription2":"","storedisplaythumbnail":"","storedisplayimage":"","urlcomponent":"Bedding","storeurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.15/.f","welcomepagetitle":"Bedding Title","storedisplayimagehtml":"","categories":{"Sub-1":{"itemtype":"sitecategory","storedetaileddescription":"","storedisplaythumbnailhtml":"","itemid":"Sub 1","categorythumbnailhtml":"","canonicalurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.15/category.85/.f","pagetitle2":"Sib 1 Title","storedetaileddescription2":"","storedisplaythumbnail":"","storedisplayimage":"","urlcomponent":"Sub-1","storeurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.15/category.85/.f","welcomepagetitle":"Sib 1 Title","storedisplayimagehtml":"","categories":{"BED-Somethingelse-":{"itemtype":"sitecategory","storedetaileddescription":"","storedisplaythumbnailhtml":"","itemid":"BED & Somethingelse","categorythumbnailhtml":"","canonicalurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.15/category.88/.f","pagetitle2":"BED & Somethingelse","storedetaileddescription2":"","storedisplaythumbnail":"","storedisplayimage":"","urlcomponent":"BED-Somethingelse-","storeurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.15/category.88/.f","welcomepagetitle":"BED & Somethingelse - PSGDev_US_OneWorld_DB96_PB1 - DEV11","storedisplayimagehtml":"","internalid":88,"pagetitle":""},"Sub-1-2":{"itemtype":"sitecategory","storedetaileddescription":"","storedisplaythumbnailhtml":"","itemid":"Sub 1.2","categorythumbnailhtml":"","canonicalurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.15/category.89/.f","pagetitle2":"Sub 1.2","storedetaileddescription2":"","storedisplaythumbnail":"","storedisplayimage":"","urlcomponent":"Sub-1-2","storeurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.15/category.89/.f","welcomepagetitle":"Sub 1.2 - PSGDev_US_OneWorld_DB96_PB1 - DEV11","storedisplayimagehtml":"","internalid":89,"pagetitle":""}},"internalid":85,"pagetitle":"Sib 1 Title"},"Sub-2":{"itemtype":"sitecategory","storedetaileddescription":"","storedisplaythumbnailhtml":"","itemid":"Sub 2","categorythumbnailhtml":"","canonicalurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.15/category.86/.f","pagetitle2":"Sub 2","storedetaileddescription2":"","storedisplaythumbnail":"","storedisplayimage":"","urlcomponent":"Sub-2","storeurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.15/category.86/.f","welcomepagetitle":"Sub 2 - PSGDev_US_OneWorld_DB96_PB1 - DEV11","storedisplayimagehtml":"","internalid":86,"pagetitle":""}},"internalid":-115,"pagetitle":"Bedding Title"},"Furniture":{"itemtype":"sitecategory","storedetaileddescription":"","storedisplaythumbnailhtml":"","itemid":"Furniture","categorythumbnailhtml":"","canonicalurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.19/.f","pagetitle2":"Furniture","storedetaileddescription2":"","storedisplaythumbnail":"","storedisplayimage":"","urlcomponent":"Furniture","storeurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.19/.f","welcomepagetitle":"Furniture - PSGDev_US_OneWorld_DB96_PB1 - DEV11","storedisplayimagehtml":"","categories":{"Living-Family-Room":{"itemtype":"sitecategory","storedetaileddescription":"","storedisplaythumbnailhtml":"","itemid":"Living & Family Room","categorythumbnailhtml":"","canonicalurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.19/category.90/.f","pagetitle2":"Living & Family Room","storedetaileddescription2":"","storedisplaythumbnail":"","storedisplayimage":"","urlcomponent":"Living-Family-Room","storeurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.19/category.90/.f","welcomepagetitle":"Living & Family Room - PSGDev_US_OneWorld_DB96_PB1 - DEV11","storedisplayimagehtml":"","categories":{"Living-Family-Room-Sub-1":{"itemtype":"sitecategory","storedetaileddescription":"","storedisplaythumbnailhtml":"<a href='/s.nl/c.3563497/n.4/sc.19/category.92/.f'><img src='/core/media/media.nl?id=498&c=3563497&h=adf49adbd713c5472300&resizeid=-1&resizeh=80&resizew=80' border='0' alt='lupa.png' title='lupa.png'></a>","itemid":"Living & Family Room Sub 1","categorythumbnailhtml":"<a href='/s.nl/c.3563497/n.4/sc.19/category.92/.f'><img src='/core/media/media.nl?id=498&c=3563497&h=adf49adbd713c5472300&resizeid=-7&resizeh=80&resizew=80' border='0' alt='lupa.png' title='lupa.png'></a>","canonicalurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.19/category.92/.f","pagetitle2":"Living & Family Room Sub 1","storedetaileddescription2":"","storedisplaythumbnail":"http://dev11.becco.uy/core/media/media.nl?id=498&c=3563497&h=adf49adbd713c5472300","storedisplayimage":"","urlcomponent":"Living-Family-Room-Sub-1","storeurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.19/category.92/.f","welcomepagetitle":"Living & Family Room Sub 1 - PSGDev_US_OneWorld_DB96_PB1 - DEV11","storedisplayimagehtml":"","internalid":92,"pagetitle":""},"Living-Family-Room-Sub-2":{"itemtype":"sitecategory","storedetaileddescription":"","storedisplaythumbnailhtml":"<a href='/s.nl/c.3563497/n.4/sc.19/category.93/.f'><img src='/core/media/media.nl?id=498&c=3563497&h=adf49adbd713c5472300&resizeid=-1&resizeh=80&resizew=80' border='0' alt='lupa.png' title='lupa.png'></a>","itemid":"Living & Family Room Sub 2","categorythumbnailhtml":"<a href='/s.nl/c.3563497/n.4/sc.19/category.93/.f'><img src='/core/media/media.nl?id=498&c=3563497&h=adf49adbd713c5472300&resizeid=-7&resizeh=80&resizew=80' border='0' alt='lupa.png' title='lupa.png'></a>","canonicalurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.19/category.93/.f","pagetitle2":"Living & Family Room Sub 2","storedetaileddescription2":"","storedisplaythumbnail":"http://dev11.becco.uy/core/media/media.nl?id=498&c=3563497&h=adf49adbd713c5472300","storedisplayimage":"","urlcomponent":"Living-Family-Room-Sub-2","storeurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.19/category.93/.f","welcomepagetitle":"Living & Family Room Sub 2 - PSGDev_US_OneWorld_DB96_PB1 - DEV11","storedisplayimagehtml":"","internalid":93,"pagetitle":""},"Living-Family-Room-Sub-3":{"itemtype":"sitecategory","storedetaileddescription":"","storedisplaythumbnailhtml":"<a href='/s.nl/c.3563497/n.4/sc.19/category.94/.f'><img src='/core/media/media.nl?id=498&c=3563497&h=adf49adbd713c5472300&resizeid=-1&resizeh=80&resizew=80' border='0' alt='lupa.png' title='lupa.png'></a>","itemid":"Living & Family Room Sub 3","categorythumbnailhtml":"<a href='/s.nl/c.3563497/n.4/sc.19/category.94/.f'><img src='/core/media/media.nl?id=498&c=3563497&h=adf49adbd713c5472300&resizeid=-7&resizeh=80&resizew=80' border='0' alt='lupa.png' title='lupa.png'></a>","canonicalurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.19/category.94/.f","pagetitle2":"Living & Family Room Sub 3","storedetaileddescription2":"","storedisplaythumbnail":"http://dev11.becco.uy/core/media/media.nl?id=498&c=3563497&h=adf49adbd713c5472300","storedisplayimage":"","urlcomponent":"Living-Family-Room-Sub-3","storeurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.19/category.94/.f","welcomepagetitle":"Living & Family Room Sub 3 - PSGDev_US_OneWorld_DB96_PB1 - DEV11","storedisplayimagehtml":"","internalid":94,"pagetitle":""},"Living-Family-Room-Sub-4":{"itemtype":"sitecategory","storedetaileddescription":"","storedisplaythumbnailhtml":"<a href='/s.nl/c.3563497/n.4/sc.19/category.95/.f'><img src='/core/media/media.nl?id=498&c=3563497&h=adf49adbd713c5472300&resizeid=-1&resizeh=80&resizew=80' border='0' alt='lupa.png' title='lupa.png'></a>","itemid":"Living & Family Room Sub 4","categorythumbnailhtml":"<a href='/s.nl/c.3563497/n.4/sc.19/category.95/.f'><img src='/core/media/media.nl?id=498&c=3563497&h=adf49adbd713c5472300&resizeid=-7&resizeh=80&resizew=80' border='0' alt='lupa.png' title='lupa.png'></a>","canonicalurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.19/category.95/.f","pagetitle2":"Living & Family Room Sub 4","storedetaileddescription2":"","storedisplaythumbnail":"http://dev11.becco.uy/core/media/media.nl?id=498&c=3563497&h=adf49adbd713c5472300","storedisplayimage":"","urlcomponent":"Living-Family-Room-Sub-4","storeurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.19/category.95/.f","welcomepagetitle":"Living & Family Room Sub 4 - PSGDev_US_OneWorld_DB96_PB1 - DEV11","storedisplayimagehtml":"","internalid":95,"pagetitle":""}},"internalid":90,"pagetitle":""},"Living-Family-Room_2":{"itemtype":"sitecategory","storedetaileddescription":"","storedisplaythumbnailhtml":"","itemid":"Dining Room & Kitchen","categorythumbnailhtml":"","canonicalurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.19/category.91/.f","pagetitle2":"Dining Room & Kitchen","storedetaileddescription2":"","storedisplaythumbnail":"","storedisplayimage":"","urlcomponent":"Living-Family-Room_2","storeurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.19/category.91/.f","welcomepagetitle":"Dining Room & Kitchen - PSGDev_US_OneWorld_DB96_PB1 - DEV11","storedisplayimagehtml":"","categories":{"Dining-Room-Kitchen-Sub-1":{"itemtype":"sitecategory","storedetaileddescription":"","storedisplaythumbnailhtml":"<a href='/s.nl/c.3563497/n.4/sc.19/category.98/.f'><img src='/core/media/media.nl?id=498&c=3563497&h=adf49adbd713c5472300&resizeid=-1&resizeh=80&resizew=80' border='0' alt='lupa.png' title='lupa.png'></a>","itemid":"Dining Room & Kitchen Sub 1","categorythumbnailhtml":"<a href='/s.nl/c.3563497/n.4/sc.19/category.98/.f'><img src='/core/media/media.nl?id=498&c=3563497&h=adf49adbd713c5472300&resizeid=-7&resizeh=80&resizew=80' border='0' alt='lupa.png' title='lupa.png'></a>","canonicalurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.19/category.98/.f","pagetitle2":"Dining Room & Kitchen Sub 1","storedetaileddescription2":"","storedisplaythumbnail":"http://dev11.becco.uy/core/media/media.nl?id=498&c=3563497&h=adf49adbd713c5472300","storedisplayimage":"","urlcomponent":"Dining-Room-Kitchen-Sub-1","storeurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.19/category.98/.f","welcomepagetitle":"Dining Room & Kitchen Sub 1 - PSGDev_US_OneWorld_DB96_PB1 - DEV11","storedisplayimagehtml":"","internalid":98,"pagetitle":""},"Dining-Room-Kitchen-Sub-2":{"itemtype":"sitecategory","storedetaileddescription":"","storedisplaythumbnailhtml":"<a href='/s.nl/c.3563497/n.4/sc.19/category.99/.f'><img src='/core/media/media.nl?id=498&c=3563497&h=adf49adbd713c5472300&resizeid=-1&resizeh=80&resizew=80' border='0' alt='lupa.png' title='lupa.png'></a>","itemid":"Dining Room & Kitchen Sub 2","categorythumbnailhtml":"<a href='/s.nl/c.3563497/n.4/sc.19/category.99/.f'><img src='/core/media/media.nl?id=498&c=3563497&h=adf49adbd713c5472300&resizeid=-7&resizeh=80&resizew=80' border='0' alt='lupa.png' title='lupa.png'></a>","canonicalurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.19/category.99/.f","pagetitle2":"Dining Room & Kitchen Sub 2","storedetaileddescription2":"","storedisplaythumbnail":"http://dev11.becco.uy/core/media/media.nl?id=498&c=3563497&h=adf49adbd713c5472300","storedisplayimage":"","urlcomponent":"Dining-Room-Kitchen-Sub-2","storeurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.19/category.99/.f","welcomepagetitle":"Dining Room & Kitchen Sub 2 - PSGDev_US_OneWorld_DB96_PB1 - DEV11","storedisplayimagehtml":"","internalid":99,"pagetitle":""},"Dining-Room-Kitchen-Sub-3":{"itemtype":"sitecategory","storedetaileddescription":"","storedisplaythumbnailhtml":"<a href='/s.nl/c.3563497/n.4/sc.19/category.97/.f'><img src='/core/media/media.nl?id=498&c=3563497&h=adf49adbd713c5472300&resizeid=-1&resizeh=80&resizew=80' border='0' alt='lupa.png' title='lupa.png'></a>","itemid":"Dining Room & Kitchen Sub 3","categorythumbnailhtml":"<a href='/s.nl/c.3563497/n.4/sc.19/category.97/.f'><img src='/core/media/media.nl?id=498&c=3563497&h=adf49adbd713c5472300&resizeid=-7&resizeh=80&resizew=80' border='0' alt='lupa.png' title='lupa.png'></a>","canonicalurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.19/category.97/.f","pagetitle2":"Dining Room & Kitchen Sub 3","storedetaileddescription2":"","storedisplaythumbnail":"http://dev11.becco.uy/core/media/media.nl?id=498&c=3563497&h=adf49adbd713c5472300","storedisplayimage":"","urlcomponent":"Dining-Room-Kitchen-Sub-3","storeurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.19/category.97/.f","welcomepagetitle":"Dining Room & Kitchen Sub 3 - PSGDev_US_OneWorld_DB96_PB1 - DEV11","storedisplayimagehtml":"","internalid":97,"pagetitle":""},"Dining-Room-Kitchen-Sub-4":{"itemtype":"sitecategory","storedetaileddescription":"","storedisplaythumbnailhtml":"<a href='/s.nl/c.3563497/n.4/sc.19/category.96/.f'><img src='/core/media/media.nl?id=498&c=3563497&h=adf49adbd713c5472300&resizeid=-1&resizeh=80&resizew=80' border='0' alt='lupa.png' title='lupa.png'></a>","itemid":"Dining Room & Kitchen Sub 4","categorythumbnailhtml":"<a href='/s.nl/c.3563497/n.4/sc.19/category.96/.f'><img src='/core/media/media.nl?id=498&c=3563497&h=adf49adbd713c5472300&resizeid=-7&resizeh=80&resizew=80' border='0' alt='lupa.png' title='lupa.png'></a>","canonicalurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.19/category.96/.f","pagetitle2":"Dining Room & Kitchen Sub 4","storedetaileddescription2":"","storedisplaythumbnail":"http://dev11.becco.uy/core/media/media.nl?id=498&c=3563497&h=adf49adbd713c5472300","storedisplayimage":"","urlcomponent":"Dining-Room-Kitchen-Sub-4","storeurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.19/category.96/.f","welcomepagetitle":"Dining Room & Kitchen Sub 4 - PSGDev_US_OneWorld_DB96_PB1 - DEV11","storedisplayimagehtml":"","internalid":96,"pagetitle":""}},"internalid":91,"pagetitle":""}},"internalid":-119,"pagetitle":""},"Kids":{"itemtype":"sitecategory","storedetaileddescription":"","storedisplaythumbnailhtml":"","itemid":"Kids","categorythumbnailhtml":"","canonicalurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.20/.f","pagetitle2":"Kids","storedetaileddescription2":"","storedisplaythumbnail":"","storedisplayimage":"","urlcomponent":"Kids","storeurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.20/.f","welcomepagetitle":"Kids","storedisplayimagehtml":"","categories":{"Kids-Sub-2":{"itemtype":"sitecategory","storedetaileddescription":"","storedisplaythumbnailhtml":"<a href='http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.20/category.100/.f'><img src='http://dev11.becco.uy/core/media/media.nl?id=14731&c=3563497&h=9e173f9295dfbc2c93cf&resizeid=-1&resizeh=80&resizew=80' border='0' alt='sssssssad.png' title='sssssssad.png'></a>","itemid":"Kids Sub 2","categorythumbnailhtml":"<a href='/s.nl/c.3563497/n.4/sc.20/category.100/.f'><img src='/core/media/media.nl?id=14731&c=3563497&h=9e173f9295dfbc2c93cf&resizeid=-7&resizeh=80&resizew=80' border='0' alt='sssssssad.png' title='sssssssad.png'></a>","canonicalurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.20/category.100/.f","pagetitle2":"Kids Sub 2","storedetaileddescription2":"","storedisplaythumbnail":"http://dev11.becco.uy/core/media/media.nl?id=14731&c=3563497&h=9e173f9295dfbc2c93cf","storedisplayimage":"","urlcomponent":"Kids-Sub-2","storeurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.20/category.100/.f","welcomepagetitle":"Kids Sub 2 - PSGDev_US_OneWorld_DB96_PB1 - DEV11","storedisplayimagehtml":"","internalid":100,"pagetitle":""},"Kids-Sub-1":{"itemtype":"sitecategory","storedetaileddescription":"","storedisplaythumbnailhtml":"<a href='/s.nl/c.3563497/n.4/sc.20/category.101/.f'><img src='/core/media/media.nl?id=498&c=3563497&h=adf49adbd713c5472300&resizeid=-1&resizeh=80&resizew=80' border='0' alt='lupa.png' title='lupa.png'></a>","itemid":"Kids Sub 1","categorythumbnailhtml":"<a href='/s.nl/c.3563497/n.4/sc.20/category.101/.f'><img src='/core/media/media.nl?id=498&c=3563497&h=adf49adbd713c5472300&resizeid=-7&resizeh=80&resizew=80' border='0' alt='lupa.png' title='lupa.png'></a>","canonicalurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.20/category.101/.f","pagetitle2":"Kids Sub 1","storedetaileddescription2":"","storedisplaythumbnail":"http://dev11.becco.uy/core/media/media.nl?id=498&c=3563497&h=adf49adbd713c5472300","storedisplayimage":"","urlcomponent":"Kids-Sub-1","storeurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.20/category.101/.f","welcomepagetitle":"Kids Sub 1 - PSGDev_US_OneWorld_DB96_PB1 - DEV11","storedisplayimagehtml":"","internalid":101,"pagetitle":""},"Kids-Sub-3":{"itemtype":"sitecategory","storedetaileddescription":"","storedisplaythumbnailhtml":"<a href='/s.nl/c.3563497/n.4/sc.20/category.102/.f'><img src='/core/media/media.nl?id=498&c=3563497&h=adf49adbd713c5472300&resizeid=-1&resizeh=80&resizew=80' border='0' alt='lupa.png' title='lupa.png'></a>","itemid":"Kids Sub 3","categorythumbnailhtml":"<a href='/s.nl/c.3563497/n.4/sc.20/category.102/.f'><img src='/core/media/media.nl?id=498&c=3563497&h=adf49adbd713c5472300&resizeid=-7&resizeh=80&resizew=80' border='0' alt='lupa.png' title='lupa.png'></a>","canonicalurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.20/category.102/.f","pagetitle2":"Kids Sub 3","storedetaileddescription2":"","storedisplaythumbnail":"http://dev11.becco.uy/core/media/media.nl?id=498&c=3563497&h=adf49adbd713c5472300","storedisplayimage":"","urlcomponent":"Kids-Sub-3","storeurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.20/category.102/.f","welcomepagetitle":"Kids Sub 3 - PSGDev_US_OneWorld_DB96_PB1 - DEV11","storedisplayimagehtml":"","internalid":102,"pagetitle":""},"Kids-Sub-4":{"itemtype":"sitecategory","storedetaileddescription":"","storedisplaythumbnailhtml":"<a href='/s.nl/c.3563497/n.4/sc.20/category.103/.f'><img src='/core/media/media.nl?id=14731&c=3563497&h=9e173f9295dfbc2c93cf&resizeid=-1&resizeh=80&resizew=80' border='0' alt='sssssssad.png' title='sssssssad.png'></a>","itemid":"Kids Sub 4","categorythumbnailhtml":"<a href='/s.nl/c.3563497/n.4/sc.20/category.103/.f'><img src='/core/media/media.nl?id=14731&c=3563497&h=9e173f9295dfbc2c93cf&resizeid=-7&resizeh=80&resizew=80' border='0' alt='sssssssad.png' title='sssssssad.png'></a>","canonicalurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.20/category.103/.f","pagetitle2":"Kids Sub 4","storedetaileddescription2":"","storedisplaythumbnail":"http://dev11.becco.uy/core/media/media.nl?id=14731&c=3563497&h=9e173f9295dfbc2c93cf","storedisplayimage":"","urlcomponent":"Kids-Sub-4","storeurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.20/category.103/.f","welcomepagetitle":"Kids Sub 4 - PSGDev_US_OneWorld_DB96_PB1 - DEV11","storedisplayimagehtml":"","internalid":103,"pagetitle":""}},"internalid":-120,"pagetitle":"Kids"},"Towels":{"itemtype":"sitecategory","storedetaileddescription":"","storedisplaythumbnailhtml":"","itemid":"Towels","categorythumbnailhtml":"","canonicalurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.21/.f","pagetitle2":"Towels","storedetaileddescription2":"","storedisplaythumbnail":"","storedisplayimage":"","urlcomponent":"Towels","storeurl":"http://shopping.netsuite.com/s.nl/c.3563497/n.4/sc.21/.f","welcomepagetitle":"Towels","storedisplayimagehtml":"","categories":null,"internalid":-121,"pagetitle":"Towels"}}
	};
	/*jshint quotmark:single*/

	var expectTrue = function(b)
	{
		expect(b).toBe(true); 
	}; 
	describe('Module: Categories', function () {
		
		var is_started = false
		,	application
		,	Categories;

		beforeEach(function ()
		{
			// Here is the application we will be using for this tests
			application = SC.Application('CategoriesTest1');
			// This is the configuration needed by the modules in order to run
			application.Configuration =  {
				modules: [ 'Categories' ]
			};

			// Starts the application
			jQuery(application.start(function () { 
				Categories = require('Categories'); 
				Categories.reset(SC.ENVIRONMENT.CATEGORIES);
				is_started = true; 
			}));
			// Makes sure the application is started before 
			waitsFor(function() {return is_started; });
		});

		it('#initialization and reset() and getTree()', function ()
		{		
			expectTrue(_.isObject(Categories)); 
			var tree = Categories.getTree();
			expectTrue(_.isObject(tree)); 
			var assert_keys = ['Bedding', 'Furniture', 'Kids', 'Towels']; 
			expectTrue(_(_(tree).keys()).intersection(assert_keys).length === assert_keys.length); 

		});
		
		it('#getBranchLineFromArray()', function ()
		{
			var categories = ['Furniture', 'Living-Family-Room'];
			var result = Categories.getBranchLineFromArray(categories); 
			expectTrue(_.isArray(result)); 
			expectTrue(_(result[0].categories['Living-Family-Room']).isObject()); 
		});

		it('#getBranchLineFromPath()', function ()
		{
			var categories ='Furniture/Living-Family-Room';
			var result = Categories.getBranchLineFromPath(categories); 
			expectTrue(_.isArray(result)); 
			expect(result.length).toBe(2);
			expectTrue(_(result[0].categories['Living-Family-Room']).isObject()); 
		});

		it('#getTopLevelCategoriesUrlComponent()', function ()
		{
			var result = Categories.getTopLevelCategoriesUrlComponent(); 
			var assert_keys = ['Bedding', 'Furniture', 'Kids', 'Towels']; 
			expect(_(result).intersection(assert_keys).length).toBe(assert_keys.length);
		});
		
		it('#makeNavigationTab()', function ()
		{
			var result = Categories.makeNavigationTab(Categories.getTree()); 
			expectTrue(_(result).isArray()); 
			expectTrue(result.length === 4); 
			_(result).each(function(i){
				expectTrue(_(i).isObject());
			}); 
			expect(result[0].categories[0].data.touchpoint).toBe('home'); 
			expect(result[0].categories[0].text).toBe('Sub 1'); 
		});

	});
	
});